<!DOCTYPE html>
<html>
	<title>Favoritter</title>
	<body>
		<p>Hotell</p>
		<p id="hotellDiv"></p>
		<p>Favoritter</p>
		<p id="favDiv"></p>
	</body>
	<script>
		let hotelliste = ["Norwegian Wild", "Stofjord Hotel", "Norefjell Ski og Spa", "Brikdalsbre Fjellstove", "Gudvangen Fjordtell"];
		let favoritter = [];
		
		for(i = 0; i < hotelliste.length; i++) {
			if(window.localStorage.getItem(String(i))==="ja"){
				favoritter.push(hotelliste[i]);
			}
		}
		skrivhliste();
		skrivfliste();
		function klikk(event) {
    		const button = event.currentTarget;
    		const hotel = button.dataset.hotel;
    		leggTil(hotel);
		}
		function klikk2(event) {
			const button = event.currentTarget;
			const hotel = button.dataset.hotel;
			fjern(hotel);
		}
		
		function skrivhliste(){
			document.getElementById("hotellDiv").innerHTML = "";
			for (var j = 0; j < hotelliste.length; j++){
				const button = document.createElement('input');
				button.type = 'button';
				button.value = hotelliste[j];
				button.dataset.hotel = hotelliste[j];
				button.addEventListener('click', klikk);
				document.getElementById("hotellDiv").appendChild(button);
			}
		}
		function skrivfliste(){
			document.getElementById("favDiv").innerHTML = "";
			for (var j = 0; j < favoritter.length; j++){
				const button = document.createElement('input');
				button.type = 'button';
				button.value = favoritter[j];
				button.dataset.hotel = favoritter[j];
				button.addEventListener('click', klikk2);
				document.getElementById("favDiv").appendChild(button);
			}
		}
		
		function leggTil(hotell){
			
			if(favoritter.includes(hotell)===false){
				favoritter.push(hotell);
			}
			
			skrivfliste();
			
			window.localStorage.setItem(String(hotelliste.indexOf(hotell)), "ja");
		}
		function fjern(hotell){
			if (favoritter.indexOf(hotell) > -1) {
				favoritter.splice(favoritter.indexOf(hotell), 1);
			}
			
			
			skrivfliste();
			
			window.localStorage.setItem(String(hotelliste.indexOf(hotell)), "nei");
		}
	</script>
</html>
